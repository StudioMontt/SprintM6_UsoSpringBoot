<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
	<head th:include="~{../static/html/head.html}"></head>
	<title>Listado de Liquidaciones</title>

	<body>
		<header>
			<nav th:include="~{../static/html/nav-bar.html}"></nav>
		</header>

		<section class="container">
			<h2>Listado de Liquidaciones</h2>
			<div class="centerButton">
				<a href="/liquidacion/creacion" class="btn btn-primary text-align m-1"
					>Crear nueva Liquidación</a
				>
			</div>
			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>RUN Trabajador</th>
						<th>Nombre Trabajador</th>
						<th>Apellido Trabajador</th>
						<th>Sueldo Imponible</th>
						<th>Sueldo Líquido</th>
						<th>Acción</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="liquidacion: ${liquidaciones}">
						<td th:text="${liquidacion.trabajador.run}"></td>
						<td th:text="${liquidacion.trabajador.nombre}"></td>
						<td th:text="${liquidacion.trabajador.apellido1}"></td>
						<td th:text="${liquidacion.sueldoImponible}"></td>
						<td th:text="${liquidacion.sueldoLiquido}"></td>
						<td class="align-middle d-flex">
							<form
								class="m-2"
								th:action="@{/liquidacion/editar/{idLiquidacion}(idLiquidacion=${liquidacion.idLiquidacion})}"
								method="GET"
							>
								<button type="submit" class="btn btn-success">
									<i class="bi bi-pencil-square"></i>
								</button>
							</form>
							<form
								class="m-2"
								th:action="@{/liquidacion/eliminar/{idLiquidacion}(idLiquidacion=${liquidacion.idLiquidacion})}"
								method="POST"
							>
								<button
									type="submit"
									class="btn btn-danger"
									onclick="confirmDeleteScript(this.form)"
								>
									<i class="bi bi-trash"></i>
								</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
		</section>

		<footer th:include="~{../static/html/footer.html}"></footer>
	</body>
</html>
